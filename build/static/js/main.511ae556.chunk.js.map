{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/contacts.js","components/Notification.js","App.js","index.js"],"names":["Filter","_ref","persons","value","onChange","react_default","a","createElement","PersonForm","addPerson","newName","newNumber","handlePersonChange","handleNumberChange","onSubmit","type","Persons","rows","poista","map","person","key","id","name","number","onClick","baseUrl","contacts","axios","get","personObject","post","delete","concat","put","Notification","message","includes","className","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","newMessage","setMessage","useEffect","personService","then","response","data","personsToShow","filter","toUpperCase","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","find","window","confirm","updated","console","log","catch","error","components_Persons","removeId","filtered","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.511ae556.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Filter = ({persons, value,onChange}) => {\r\n    return(\r\n    <input value={value} onChange={onChange} />\r\n    )\r\n}\r\nexport default Filter;","import React from \"react\";\r\n\r\nconst PersonForm = ({\r\n  addPerson,\r\n  newName,\r\n  newNumber,\r\n  handlePersonChange,\r\n  handleNumberChange\r\n}) => {\r\n  return (\r\n    //<input value={value} onChange={onChange} />\r\n    <div>\r\n      <form onSubmit={addPerson}>\r\n        nimi: <input value={newName} onChange={handlePersonChange} />\r\n        <div>\r\n          numero: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\nexport default PersonForm;\r\n","import React from \"react\";\r\n\r\n\r\nconst Persons = ({ rows, poista }) =>{\r\n  return rows.map(person => \r\n    <p key={person.id}>\r\n     \r\n      {person.name} {person.number}\r\n      <button value={person.id} onClick={poista}>poista</button>\r\n    </p>\r\n  );\r\n}\r\n\r\nexport default Persons;\r\n","import axios from \"axios\";\r\nconst baseUrl = \"/api/persons\";\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl);\r\n};\r\n\r\nconst create = personObject => {\r\n  return axios.post(baseUrl, personObject);\r\n};\r\n\r\nconst remove =(id) => {\r\nreturn axios.delete(`${baseUrl}/${id}`)\r\n}\r\nconst update =(id, personObject) =>{\r\n  return axios.put(`${baseUrl}/${id}`, personObject)\r\n}\r\n\r\nexport default {\r\n  getAll,\r\n  create,\r\n  remove,\r\n  update\r\n};\r\n","import React from \"react\";\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null;\r\n  } else if (message.includes(\"Henkilön\")) {\r\n    return <div className=\"deleted\">{message}</div>;\r\n  }\r\n\r\n  return <div className=\"error\">{message}</div>;\r\n};\r\nexport default Notification;\r\n","import React, { useState, useEffect } from \"react\";\n\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport personService from \"./services/contacts\";\nimport Notification from \"./components/Notification\";\nimport \"./index.css\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [newMessage, setMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then(response => {\n      setPersons(response.data);\n    });\n  }, []);\n  const handlePersonChange = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  };\n  const handleNumberChange = event => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  };\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value);\n  };\n  const personsToShow = newFilter\n    ? persons.filter(person =>\n        person.name.toUpperCase().includes(newFilter.toUpperCase())\n      )\n    : persons;\n\n  const remove = event => {\n    event.preventDefault();\n\n    console.log(event.target.value);\n    console.log(\"painettu remove\",event.target.value);\n    const removeId = event.target.value;\n\n    const person = persons.find(person => person.id === removeId);\n    const name = person.name;\n  \n    console.log(\"henkilo nimi\", person.name);\n    console.log(\"henkilo id\", person.id);\n    console.log('painettu id', removeId)\n    if (window.confirm(`poistetaanko ${name}`)) {\n    console.log(name)\n      let filtered = persons.filter(person => person.id !== removeId);\n      personService.remove(removeId).then(() => {\n        setPersons(filtered);\n      });\n      setMessage(`poistettiin '${name}'`);\n    }\n  };\n\n  const addPerson = event => {\n    event.preventDefault();\n\n    if (persons.find(person => person.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} on jo luettelossa, korvataanko vanha numero uudella`\n        )\n      ) {\n        const updated = persons.find(person => person.name === newName);\n\n        const personObject = {\n          name: newName,\n          number: newNumber\n        };\n\n        personService\n          .update(updated.id, personObject)\n          .then(response => {\n            console.log(response);\n            setMessage(`Paivitettiin '${newName}' numero`);\n            setPersons(\n              persons.map(person =>\n                person.id !== updated.id ? person : response.data\n              )\n            );\n          })\n          .catch(error => {\n            setMessage(`Henkilön '${newName}' oli poistettu`);\n          });\n      }\n    } else {\n      const personObject = {\n        name: newName,\n        number: newNumber\n        // id:persons.lenght +1\n      };\n      personService.create(personObject).then(response => {\n        setPersons(persons.concat(response.data));\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n      setMessage(`Lisättiin '${newName}'`);\n    }\n  };\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      <Notification message={newMessage} />\n      rajaa näytettäviä:{\" \"}\n      <Filter value={newFilter} onChange={handleFilterChange} />\n      <h3>lisää uusi</h3>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handlePersonChange={handlePersonChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h2>Numerot</h2>\n      <Persons rows={personsToShow} poista={remove} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\n\n    ReactDOM.render(\n        <App />,\n        document.getElementById('root')\n      )\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n\n"],"sourceRoot":""}